{% extends 'loginbase.html.twig' %}

{% block title %}ISSIMI - Login!{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <style>
        body{
            background-image: url("images/{{ imgnumber }}.jpg");
            width: 100%;
            height: 100%;
            background-size: cover;
            background-repeat: no-repeat;
            background-position: 50% 50%;
        }
    </style>
{% endblock %}

{% block body %}
    <div class="wrapper fadeInDown">
        <div id="formContent">
            <!-- Tabs Titles -->
            <h2 class="active"> Sign In </h2>

            <!-- Icon -->
            <div class="fadeIn first">
                <h1>/<img src="{{ asset('images/logo.png') }}" id="icon" style="border-radius: 50%;width:100px;height:100px;object-fit: cover;" alt="User Icon" />\</h1>
            </div>
            {% if error %}
                <div class="alert alert-danger">
                    {{ error.messageKey|trans(error.messageData, 'security') }}
                </div>
            {% endif %}
            <!-- Login Form -->
            <form action="{{ path('app_login') }}" method="POST">
                <input type="text" id="login" class="login fadeIn second" name="_username" placeholder="login" value="{{ last_username }}">
                <input type="password" id="password" class="login fadeIn third" name="_password" placeholder="password">

                <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">
                <div class="checkbox mb-3 fadeIn third">
                    <label>
                        <input type="checkbox" name="_remember_me"> Remember me
                    </label>
                </div>
                <button type="submit" class="btn fadeIn fourth">Log In</button>
            </form>

            <!-- Remind Password -->
            <div id="formFooter">
                <a class="underlineHover" href="#">Forgot Password?</a>
            </div>

        </div>
    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script>
        $.post('https://trifall.net/api/login',   // url
            JSON.stringify({
                username: "TyreekMetz",
                password: "engage"
            }), // data to be submit
            function(data, status, jqXHR) {// success callback
                $('p').append('status: ' + status + ', data: ' + data);
            });
        $.ajax({
            type: "POST",
            url: "https://trifall.net/api/login",
            data: JSON.stringify({
                "username": "TyreekMetz",
                "password": "engage"
            }),
            contentType: 'application/json',
        }).done(function( data ) {
            alert( "Data Loaded: " + data );
        });
        $.ajax({
            type: "GET",
            url: "https://trifall.net/api/labels",
            contentType: 'application/json',
        }).done(function( data ) {
            alert( "Data Loaded: " + data );
        });
    </script>
{% endblock %}
